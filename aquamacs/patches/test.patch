*** lisp/recentf.el	06 Apr 2008 13:51:37 +0200	1.56.2.2
--- lisp/recentf.el	10 Aug 2008 19:04:41 +0200	
***************
*** 394,400 ****
    "Convert file NAME to absolute, and canonicalize it.
  NAME is first passed to the function `expand-file-name', then to
  `recentf-filename-handlers' to post process it."
!   (recentf-apply-filename-handlers (expand-file-name name)))
  
  (defun recentf-include-p (filename)
    "Return non-nil if FILENAME should be included in the recent list.
--- 394,402 ----
    "Convert file NAME to absolute, and canonicalize it.
  NAME is first passed to the function `expand-file-name', then to
  `recentf-filename-handlers' to post process it."
!   (condition-case nil
!       (recentf-apply-filename-handlers (expand-file-name name))
!     (error name)))
  
  (defun recentf-include-p (filename)
    "Return non-nil if FILENAME should be included in the recent list.
*** lisp/erc/erc.el	28 Jul 2008 23:15:49 +0100	1.52
--- lisp/erc/erc.el	17 Aug 2008 19:44:33 +0100	
***************
*** 6085,6092 ****
  	(let ((header (if erc-header-line-format
  			  (format-spec erc-header-line-format spec)
  			nil)))
! 	  (cond ((null header)
! 		 (setq header-line-format nil))
  		(erc-header-line-uses-help-echo-p
  		 (let ((help-echo (with-temp-buffer
  				    (insert header)
--- 6085,6091 ----
  	(let ((header (if erc-header-line-format
  			  (format-spec erc-header-line-format spec)
  			nil)))
! 	  (cond ((null header))
  		(erc-header-line-uses-help-echo-p
  		 (let ((help-echo (with-temp-buffer
  				    (insert header)
Index: lisp/mail/smtpmail.el
===================================================================
RCS file: /sources/emacs/emacs/lisp/mail/smtpmail.el,v
retrieving revision 1.108
diff -u -p -r1.108 smtpmail.el
--- lisp/mail/smtpmail.el	5 Jan 2009 03:22:37 -0000	1.108
+++ lisp/mail/smtpmail.el	3 Mar 2009 16:22:18 -0000
@@ -218,7 +218,8 @@ This is relative to `smtpmail-queue-dir'
(defvar smtpmail-read-point)

(defconst smtpmail-auth-supported '(cram-md5 plain login)
-  "List of supported SMTP AUTH mechanisms.")
+  "List of supported SMTP AUTH mechanisms.
+The list is in preference order.")

(defvar smtpmail-mail-address nil
  "Value to use for envelope-from address for mail from ambient buffer.")
@@ -534,7 +535,7 @@ This is relative to `smtpmail-queue-dir'

(defun smtpmail-try-auth-methods (process supported-extensions host port)
  (let* ((mechs (cdr-safe (assoc 'auth supported-extensions)))
-	 (mech (car (smtpmail-intersection smtpmail-auth-supported mechs)))
+	 (mech (car (smtpmail-intersection mechs smtpmail-auth-supported)))
	 (auth-user (auth-source-user-or-password
		     "login" host (or port "smtp")))
	 (auth-pass (auth-source-user-or-password
