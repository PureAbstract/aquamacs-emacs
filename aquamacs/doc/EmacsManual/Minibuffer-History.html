<html lang="en">
<head>
<title>Minibuffer History</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Minibuffer History">
<meta name="generator" content="makeinfo 4.6">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
Node:&nbsp;<a name="Minibuffer%20History">Minibuffer History</a>,
Next:&nbsp;<a rel="next" accesskey="n" href="Repetition.html#Repetition">Repetition</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Completion.html#Completion">Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Minibuffer.html#Minibuffer">Minibuffer</a>
<hr><br>
</div>

<h3 class="section">Minibuffer History</h3>

<p>Every argument that you enter with the minibuffer is saved on a
<dfn>minibuffer history list</dfn> so that you can use it again later in
another argument.  Special commands load the text of an earlier argument
in the minibuffer.  They discard the old minibuffer contents, so you can
think of them as moving through the history of previous arguments.

     <dl>
<dt><kbd>&lt;UP&gt;</kbd>
     <dd><dt><kbd>M-p</kbd>
     <dd>Move to the next earlier argument string saved in the minibuffer history
(<code>previous-history-element</code>). 
<br><dt><kbd>&lt;DOWN&gt;</kbd>
     <dd><dt><kbd>M-n</kbd>
     <dd>Move to the next later argument string saved in the minibuffer history
(<code>next-history-element</code>). 
<br><dt><kbd>M-r </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd>
     <dd>Move to an earlier saved argument in the minibuffer history that has a
match for <var>regexp</var> (<code>previous-matching-history-element</code>). 
<br><dt><kbd>M-s </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd>
     <dd>Move to a later saved argument in the minibuffer history that has a
match for <var>regexp</var> (<code>next-matching-history-element</code>). 
</dl>

   <p>The simplest way to reuse the saved arguments in the history list is
to move through the history list one element at a time.  While in the
minibuffer, use <kbd>M-p</kbd> or up-arrow (<code>previous-history-element</code>)
to "move to" the next earlier minibuffer input, and use <kbd>M-n</kbd> or
down-arrow (<code>next-history-element</code>) to "move to" the next later
input.

   <p>The previous input that you fetch from the history entirely replaces
the contents of the minibuffer.  To use it as the argument, exit the
minibuffer as usual with &lt;RET&gt;.  You can also edit the text before
you reuse it; this does not change the history element that you
"moved" to, but your new argument does go at the end of the history
list in its own right.

   <p>For many minibuffer arguments there is a "default" value.  In some
cases, the minibuffer history commands know the default value.  Then you
can insert the default value into the minibuffer as text by using
<kbd>M-n</kbd> to move "into the future" in the history.  Eventually we
hope to make this feature available whenever the minibuffer has a
default value.

   <p>There are also commands to search forward or backward through the
history; they search for history elements that match a regular
expression that you specify with the minibuffer.  <kbd>M-r</kbd>
(<code>previous-matching-history-element</code>) searches older elements in
the history, while <kbd>M-s</kbd> (<code>next-matching-history-element</code>)
searches newer elements.  By special dispensation, these commands can
use the minibuffer to read their arguments even though you are already
in the minibuffer when you issue them.  As with incremental searching,
an upper-case letter in the regular expression makes the search
case-sensitive (see <a href="Search-Case.html#Search%20Case">Search Case</a>).

   <p>All uses of the minibuffer record your input on a history list, but
there are separate history lists for different kinds of arguments.  For
example, there is a list for file names, used by all the commands that
read file names.  (As a special feature, this history list records
the absolute file name, no more and no less, even if that is not how
you entered the file name.)

   <p>There are several other very specific history lists, including one for
command names read by <kbd>M-x</kbd>, one for buffer names, one for arguments
of commands like <code>query-replace</code>, and one for compilation commands
read by <code>compile</code>.  Finally, there is one "miscellaneous" history
list that most minibuffer arguments use.

   <p>The variable <code>history-length</code> specifies the maximum length of a
minibuffer history list; once a list gets that long, the oldest element
is deleted each time an element is added.  If the value of
<code>history-length</code> is <code>t</code>, though, there is no maximum length
and elements are never deleted.

   </body></html>

