<html lang="en">
<head>
<title>Minibuffer History - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.9">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Minibuffer.html#Minibuffer" title="Minibuffer">
<link rel="prev" href="Completion.html#Completion" title="Completion">
<link rel="next" href="Repetition.html#Repetition" title="Repetition">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.0.94.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009
Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Minibuffer-History"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Repetition.html#Repetition">Repetition</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Completion.html#Completion">Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Minibuffer.html#Minibuffer">Minibuffer</a>
<hr>
</div>

<h3 class="section">8.4 Minibuffer History</h3>

<p><a name="index-minibuffer-history-185"></a><a name="index-history-of-minibuffer-input-186"></a>
  Every argument that you enter with the minibuffer is saved in a
<dfn>minibuffer history list</dfn> so you can easily use it again later. 
You can use the following arguments to quickly fetch an earlier
argument into the minibuffer:

     <dl>
<dt><kbd>M-p</kbd><dt><kbd>&lt;Up&gt;</kbd><dd>Move to the previous item in the minibuffer history, an earlier
argument (<code>previous-history-element</code>). 
<br><dt><kbd>M-n</kbd><dt><kbd>&lt;Down&gt;</kbd><dd>Move to the next item in the minibuffer history
(<code>next-history-element</code>). 
<br><dt><kbd>M-r </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd><dd>Move to an earlier item in the minibuffer history that
matches <var>regexp</var> (<code>previous-matching-history-element</code>). 
<br><dt><kbd>M-s </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd><dd>Move to a later item in the minibuffer history that matches
<var>regexp</var> (<code>next-matching-history-element</code>). 
</dl>

   <p><a name="index-M_002dp-_0040r_007b_0028minibuffer-history_0029_007d-187"></a><a name="index-M_002dn-_0040r_007b_0028minibuffer-history_0029_007d-188"></a><a name="index-next_002dhistory_002delement-189"></a><a name="index-previous_002dhistory_002delement-190"></a>  While in the minibuffer, typing <kbd>M-p</kbd> or &lt;Up&gt;
(<code>previous-history-element</code>) moves up through the minibuffer
history list, one item at a time.  Each <kbd>M-p</kbd> fetches an earlier
item from the history list into the minibuffer, replacing its existing
contents.  Similarly, typing <kbd>M-n</kbd> or &lt;Down&gt;
(<code>next-history-element</code>) moves back down the history list,
fetching later entries into the minibuffer.  You can think of these
commands as &ldquo;backwards&rdquo; and &ldquo;forwards&rdquo; through the history list.

   <p>If you type <kbd>M-n</kbd> in the minibuffer when there are no later
entries in the minibuffer history (e.g., if you haven't previously
typed <kbd>M-p</kbd>), Emacs tries fetching from a list of default
argument: values that you are likely to enter.  You can think of this
as moving through the &ldquo;future list&rdquo; instead of the &ldquo;history list&rdquo;.

   <p>The input that <kbd>M-p</kbd> or <kbd>M-n</kbd> fetches into the minibuffer
entirely replaces the existing contents of the minibuffer, so you can
simply type &lt;RET&gt; to use it as an argument.  You can also edit the
text before you reuse it; this does not change the history element
that you &ldquo;moved&rdquo; to, but your new argument does go at the end of the
history list in its own right.

   <p><a name="index-previous_002dmatching_002dhistory_002delement-191"></a><a name="index-next_002dmatching_002dhistory_002delement-192"></a><a name="index-M_002dr-_0040r_007b_0028minibuffer-history_0029_007d-193"></a><a name="index-M_002ds-_0040r_007b_0028minibuffer-history_0029_007d-194"></a>  There are also commands to search forward or backward through the
history; they search for history elements that match a regular
expression.  <kbd>M-r</kbd> (<code>previous-matching-history-element</code>)
searches older elements in the history, while <kbd>M-s</kbd>
(<code>next-matching-history-element</code>) searches newer elements.  These
commands are unusual: they use the minibuffer to read the regular
expression even though they are invoked from the minibuffer.  As with
incremental searching, an upper-case letter in the regular expression
makes the search case-sensitive (see <a href="Search-Case.html#Search-Case">Search Case</a>).  You can also
search through the history using an incremental search (see <a href="Isearch-Minibuffer.html#Isearch-Minibuffer">Isearch Minibuffer</a>).

   <p>All uses of the minibuffer record your input on a history list, but
there are separate history lists for different kinds of arguments. 
For example, there is a list for file names, used by all the commands
that read file names.  (As a special feature, this history list
records the absolute file name, even if the name you entered was not
absolute.)

   <p>There are several other specific history lists, including one for
buffer names, one for arguments of commands like <code>query-replace</code>,
one used by <kbd>M-x</kbd> for command names, and one used by
<code>compile</code> for compilation commands.  Finally, there is one
&ldquo;miscellaneous&rdquo; history list that most minibuffer arguments use.

   <p><a name="index-history_002dlength-195"></a>  The variable <code>history-length</code> specifies the maximum length of a
minibuffer history list; adding a new element deletes the oldest
element if the list gets too long.  If the value of
<code>history-length</code> is <code>t</code>, there is no maximum length.

   <p><a name="index-history_002ddelete_002dduplicates-196"></a>  The variable <code>history-delete-duplicates</code> specifies whether to
delete duplicates in history.  If it is non-<code>nil</code>, adding a new
element deletes from the list all other elements that are equal to it. 
The default is <code>nil</code>.

   </body></html>

