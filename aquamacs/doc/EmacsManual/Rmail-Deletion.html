<html lang="en">
<head>
<title>Deleting Messages</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Deleting Messages">
<meta name="generator" content="makeinfo 4.6">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
Node:&nbsp;<a name="Rmail%20Deletion">Rmail Deletion</a>,
Next:&nbsp;<a rel="next" accesskey="n" href="Rmail-Inbox.html#Rmail%20Inbox">Rmail Inbox</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Rmail-Motion.html#Rmail%20Motion">Rmail Motion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Rmail.html#Rmail">Rmail</a>
<hr><br>
</div>

<h3 class="section">Deleting Messages</h3>

<p>When you no longer need to keep a message, you can <dfn>delete</dfn> it.  This
flags it as ignorable, and some Rmail commands pretend it is no longer
present; but it still has its place in the Rmail file, and still has its
message number.

   <p><dfn>Expunging</dfn> the Rmail file actually removes the deleted messages. 
The remaining messages are renumbered consecutively.  Expunging is the only
action that changes the message number of any message, except for
undigestifying (see <a href="Rmail-Digest.html#Rmail%20Digest">Rmail Digest</a>).

     <dl>
<dt><kbd>d</kbd>
     <dd>Delete the current message, and move to the next nondeleted message
(<code>rmail-delete-forward</code>). 
<br><dt><kbd>C-d</kbd>
     <dd>Delete the current message, and move to the previous nondeleted
message (<code>rmail-delete-backward</code>). 
<br><dt><kbd>u</kbd>
     <dd>Undelete the current message, or move back to a deleted message and
undelete it (<code>rmail-undelete-previous-message</code>). 
<br><dt><kbd>x</kbd>
     <dd>Expunge the Rmail file (<code>rmail-expunge</code>). 
</dl>

   <p>There are two Rmail commands for deleting messages.  Both delete the
current message and select another message.  <kbd>d</kbd>
(<code>rmail-delete-forward</code>) moves to the following message, skipping
messages already deleted, while <kbd>C-d</kbd> (<code>rmail-delete-backward</code>)
moves to the previous nondeleted message.  If there is no nondeleted
message to move to in the specified direction, the message that was just
deleted remains current.  A numeric argument to either command reverses
the direction of motion after deletion.

   <p>Whenever Rmail deletes a message, it runs the hook
<code>rmail-delete-message-hook</code>.  When the hook functions are invoked,
the message has been marked deleted, but it is still the current message
in the Rmail buffer.

   <p>To make all the deleted messages finally vanish from the Rmail file,
type <kbd>x</kbd> (<code>rmail-expunge</code>).  Until you do this, you can still
<dfn>undelete</dfn> the deleted messages.  The undeletion command, <kbd>u</kbd>
(<code>rmail-undelete-previous-message</code>), is designed to cancel the
effect of a <kbd>d</kbd> command in most cases.  It undeletes the current
message if the current message is deleted.  Otherwise it moves backward
to previous messages until a deleted message is found, and undeletes
that message.

   <p>You can usually undo a <kbd>d</kbd> with a <kbd>u</kbd> because the <kbd>u</kbd>
moves back to and undeletes the message that the <kbd>d</kbd> deleted.  But
this does not work when the <kbd>d</kbd> skips a few already-deleted messages
that follow the message being deleted; then the <kbd>u</kbd> command
undeletes the last of the messages that were skipped.  There is no clean
way to avoid this problem.  However, by repeating the <kbd>u</kbd> command,
you can eventually get back to the message that you intend to
undelete.  You can also select a particular deleted message with
the <kbd>M-p</kbd> command, then type <kbd>u</kbd> to undelete it.

   <p>A deleted message has the <code>deleted</code> attribute, and as a result
<code>deleted</code> appears in the mode line when the current message is
deleted.  In fact, deleting or undeleting a message is nothing more than
adding or removing this attribute.  See <a href="Rmail-Attributes.html#Rmail%20Attributes">Rmail Attributes</a>.

   </body></html>

