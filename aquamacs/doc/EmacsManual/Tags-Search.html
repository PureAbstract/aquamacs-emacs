<html lang="en">
<head>
<title>Searching and Replacing with Tags Tables</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Searching and Replacing with Tags Tables">
<meta name="generator" content="makeinfo 4.6">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
Node:&nbsp;<a name="Tags%20Search">Tags Search</a>,
Next:&nbsp;<a rel="next" accesskey="n" href="List-Tags.html#List%20Tags">List Tags</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Find-Tag.html#Find%20Tag">Find Tag</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Tags.html#Tags">Tags</a>
<hr><br>
</div>

<h3 class="subsection">Searching and Replacing with Tags Tables</h4>

<p>The commands in this section visit and search all the files listed in the
selected tags table, one by one.  For these commands, the tags table serves
only to specify a sequence of files to search.

     <dl>
<dt><kbd>M-x tags-search &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd>
     <dd>Search for <var>regexp</var> through the files in the selected tags
table. 
<br><dt><kbd>M-x tags-query-replace &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>replacement</var><kbd> &lt;RET&gt;</kbd>
     <dd>Perform a <code>query-replace-regexp</code> on each file in the selected tags table. 
<br><dt><kbd>M-,</kbd>
     <dd>Restart one of the commands above, from the current location of point
(<code>tags-loop-continue</code>). 
</dl>

   <p><kbd>M-x tags-search</kbd> reads a regexp using the minibuffer, then
searches for matches in all the files in the selected tags table, one
file at a time.  It displays the name of the file being searched so you
can follow its progress.  As soon as it finds an occurrence,
<code>tags-search</code> returns.

   <p>Having found one match, you probably want to find all the rest.  To find
one more match, type <kbd>M-,</kbd> (<code>tags-loop-continue</code>) to resume the
<code>tags-search</code>.  This searches the rest of the current buffer, followed
by the remaining files of the tags table.

   <p><kbd>M-x tags-query-replace</kbd> performs a single
<code>query-replace-regexp</code> through all the files in the tags table.  It
reads a regexp to search for and a string to replace with, just like
ordinary <kbd>M-x query-replace-regexp</kbd>.  It searches much like <kbd>M-x
tags-search</kbd>, but repeatedly, processing matches according to your
input.  See <a href="Replace.html#Replace">Replace</a>, for more information on query replace.

   <p>You can control the case-sensitivity of tags search commands by
customizing the value of the variable <code>tags-case-fold-search</code>.  The
default is to use the same setting as the value of
<code>case-fold-search</code> (see <a href="Search-Case.html#Search%20Case">Search Case</a>).

   <p>It is possible to get through all the files in the tags table with a
single invocation of <kbd>M-x tags-query-replace</kbd>.  But often it is
useful to exit temporarily, which you can do with any input event that
has no special query replace meaning.  You can resume the query replace
subsequently by typing <kbd>M-,</kbd>; this command resumes the last tags
search or replace command that you did.

   <p>The commands in this section carry out much broader searches than the
<code>find-tag</code> family.  The <code>find-tag</code> commands search only for
definitions of tags that match your substring or regexp.  The commands
<code>tags-search</code> and <code>tags-query-replace</code> find every occurrence
of the regexp, as ordinary search commands and replace commands do in
the current buffer.

   <p>These commands create buffers only temporarily for the files that they
have to search (those which are not already visited in Emacs buffers). 
Buffers in which no match is found are quickly killed; the others
continue to exist.

   <p>It may have struck you that <code>tags-search</code> is a lot like
<code>grep</code>.  You can also run <code>grep</code> itself as an inferior of
Emacs and have Emacs show you the matching lines one by one.  This works
much like running a compilation; finding the source locations of the
<code>grep</code> matches works like finding the compilation errors. 
See <a href="Compilation.html#Compilation">Compilation</a>.

   </body></html>

