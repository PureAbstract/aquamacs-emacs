<html lang="en">
<head>
<title>Transforming File Names - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.9">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Dired.html#Dired" title="Dired">
<link rel="prev" href="Shell-Commands-in-Dired.html#Shell-Commands-in-Dired" title="Shell Commands in Dired">
<link rel="next" href="Comparison-in-Dired.html#Comparison-in-Dired" title="Comparison in Dired">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.0.94.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009
Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Transforming-File-Names"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Comparison-in-Dired.html#Comparison-in-Dired">Comparison in Dired</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Shell-Commands-in-Dired.html#Shell-Commands-in-Dired">Shell Commands in Dired</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Dired.html#Dired">Dired</a>
<hr>
</div>

<h3 class="section">37.9 Transforming File Names in Dired</h3>

<p>This section describes Dired commands which alter file names in a
systematic way.  Each command operates on some or all of the marked
files, using a new name made by transforming the existing name.

   <p>Like the basic Dired file-manipulation commands (see <a href="Operating-on-Files.html#Operating-on-Files">Operating on Files</a>), the commands described here operate either on the next
<var>n</var> files, or on all files marked with `<samp><span class="samp">*</span></samp>', or on the current
file.  (To mark files, use the commands described in <a href="Marks-vs-Flags.html#Marks-vs-Flags">Marks vs Flags</a>.)

   <p>All of the commands described in this section work
<em>interactively</em>: they ask you to confirm the operation for each
candidate file.  Thus, you can select more files than you actually
need to operate on (e.g., with a regexp that matches many files), and
then filter the selected names by typing <kbd>y</kbd> or <kbd>n</kbd> when the
command prompts for confirmation.

     
<a name="index-dired_002dupcase-3075"></a>
<a name="index-g_t_0025-u-_0040r_007b_0028Dired_0029_007d-3076"></a>
<a name="index-upcase-file-names-3077"></a>
<dl><dt><kbd>% u</kbd><dd>Rename each of the selected files to an upper-case name
(<code>dired-upcase</code>).  If the old file names are <samp><span class="file">Foo</span></samp>
and <samp><span class="file">bar</span></samp>, the new names are <samp><span class="file">FOO</span></samp> and <samp><span class="file">BAR</span></samp>.

     <br><dt><kbd>% l</kbd><dd><a name="index-dired_002ddowncase-3078"></a><a name="index-g_t_0025-l-_0040r_007b_0028Dired_0029_007d-3079"></a><a name="index-downcase-file-names-3080"></a>Rename each of the selected files to a lower-case name
(<code>dired-downcase</code>).  If the old file names are <samp><span class="file">Foo</span></samp> and
<samp><span class="file">bar</span></samp>, the new names are <samp><span class="file">foo</span></samp> and <samp><span class="file">bar</span></samp>.

     <br><dt><kbd>% R </kbd><var>from</var><kbd> &lt;RET&gt; </kbd><var>to</var><kbd> &lt;RET&gt;</kbd><dd><a name="index-g_t_0025-R-_0040r_007b_0028Dired_0029_007d-3081"></a><a name="index-dired_002ddo_002drename_002dregexp-3082"></a><dt><kbd>% C </kbd><var>from</var><kbd> &lt;RET&gt; </kbd><var>to</var><kbd> &lt;RET&gt;</kbd><dd><a name="index-g_t_0025-C-_0040r_007b_0028Dired_0029_007d-3083"></a><a name="index-dired_002ddo_002dcopy_002dregexp-3084"></a><dt><kbd>% H </kbd><var>from</var><kbd> &lt;RET&gt; </kbd><var>to</var><kbd> &lt;RET&gt;</kbd><dd><a name="index-g_t_0025-H-_0040r_007b_0028Dired_0029_007d-3085"></a><a name="index-dired_002ddo_002dhardlink_002dregexp-3086"></a><dt><kbd>% S </kbd><var>from</var><kbd> &lt;RET&gt; </kbd><var>to</var><kbd> &lt;RET&gt;</kbd><dd><a name="index-g_t_0025-S-_0040r_007b_0028Dired_0029_007d-3087"></a><a name="index-dired_002ddo_002dsymlink_002dregexp-3088"></a>These four commands rename, copy, make hard links and make soft links,
in each case computing the new name by regular-expression substitution
from the name of the old file. 
</dl>

   <p>The four regular-expression substitution commands effectively
perform a search-and-replace on the selected file names.  They read
two arguments: a regular expression <var>from</var>, and a substitution
pattern <var>to</var>; they match each &ldquo;old&rdquo; file name against
<var>from</var>, and then replace the matching part with <var>to</var>.  You can
use `<samp><span class="samp">\&amp;</span></samp>' and `<samp><span class="samp">\</span><var>digit</var></samp>' in <var>to</var> to refer to all or
part of what the pattern matched in the old file name, as in
<code>replace-regexp</code> (see <a href="Regexp-Replace.html#Regexp-Replace">Regexp Replace</a>).  If the regular
expression matches more than once in a file name, only the first match
is replaced.

   <p>For example, <kbd>% R ^.*$ &lt;RET&gt; x-\&amp; &lt;RET&gt;</kbd> renames each
selected file by prepending `<samp><span class="samp">x-</span></samp>' to its name.  The inverse of this,
removing `<samp><span class="samp">x-</span></samp>' from the front of each file name, is also possible:
one method is <kbd>% R ^x-\(.*\)$ &lt;RET&gt; \1 &lt;RET&gt;</kbd>; another is
<kbd>% R ^x- &lt;RET&gt; &lt;RET&gt;</kbd>.  (Use `<samp><span class="samp">^</span></samp>' and `<samp><span class="samp">$</span></samp>' to anchor
matches that should span the whole file name.)

   <p>Normally, the replacement process does not consider the files'
directory names; it operates on the file name within the directory.  If
you specify a numeric argument of zero, then replacement affects the
entire absolute file name including directory name.  (A non-zero
argument specifies the number of files to operate on.)

   <p>You may want to select the set of files to operate on using the same
regexp <var>from</var> that you will use to operate on them.  To do this,
mark those files with <kbd>% m </kbd><var>from</var><kbd> &lt;RET&gt;</kbd>, then use the
same regular expression in the command to operate on the files.  To
make this more convenient, the <kbd>%</kbd> commands to operate on files
use the last regular expression specified in any <kbd>%</kbd> command as a
default.

   </body></html>

