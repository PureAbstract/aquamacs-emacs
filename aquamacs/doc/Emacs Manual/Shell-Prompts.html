<html lang="en">
<head>
<title>Shell Prompts - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Shell.html#Shell" title="Shell">
<link rel="prev" href="Shell-Mode.html#Shell-Mode" title="Shell Mode">
<link rel="next" href="Shell-History.html#Shell-History" title="Shell History">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.2.50.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Shell-Prompts"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Shell-History.html#Shell-History">Shell History</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Shell-Mode.html#Shell-Mode">Shell Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Shell.html#Shell">Shell</a>
<hr>
</div>

<h3 class="section">41.4 Shell Prompts</h3>

<p><a name="index-shell_002dprompt_002dpattern-3634"></a><a name="index-comint_002dprompt_002dregexp-3635"></a><a name="index-comint_002duse_002dprompt_002dregexp-3636"></a><a name="index-prompt_002c-shell-3637"></a>  A prompt is text output by a program to show that it is ready to
accept new user input.  Normally, Comint mode (and thus Shell mode)
considers the prompt to be any text output by a program at the
beginning of an input line.  However, if the variable
<code>comint-use-prompt-regexp</code> is non-<code>nil</code>, then Comint mode
uses a regular expression to recognize prompts.  In Shell mode,
<code>shell-prompt-pattern</code> specifies the regular expression.

   <p>The value of <code>comint-use-prompt-regexp</code> also affects many
motion and paragraph commands.  If the value is non-<code>nil</code>, the
general Emacs motion commands behave as they normally do in buffers
without special text properties.  However, if the value is <code>nil</code>,
the default, then Comint mode divides the buffer into two types of
&ldquo;fields&rdquo; (ranges of consecutive characters having the same
<code>field</code> text property): input and output.  Prompts are part of
the output.  Most Emacs motion commands do not cross field boundaries,
unless they move over multiple lines.  For instance, when point is in
input on the same line as a prompt, <kbd>C-a</kbd> puts point at the
beginning of the input if <code>comint-use-prompt-regexp</code> is
<code>nil</code> and at the beginning of the line otherwise.

   <p>In Shell mode, only shell prompts start new paragraphs.  Thus, a
paragraph consists of a prompt and the input and output that follow
it.  However, if <code>comint-use-prompt-regexp</code> is <code>nil</code>, the
default, most paragraph commands do not cross field boundaries.  This
means that prompts, ranges of input, and ranges of non-prompt output
behave mostly like separate paragraphs; with this setting, numeric
arguments to most paragraph commands yield essentially undefined
behavior.  For the purpose of finding paragraph boundaries, Shell mode
uses <code>shell-prompt-pattern</code>, regardless of
<code>comint-use-prompt-regexp</code>.

   </body></html>

