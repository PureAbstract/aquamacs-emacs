<html lang="en">
<head>
<title>TeX Print - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.9">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="TeX-Mode.html#TeX-Mode" title="TeX Mode">
<link rel="prev" href="LaTeX-Editing.html#LaTeX-Editing" title="LaTeX Editing">
<link rel="next" href="TeX-Misc.html#TeX-Misc" title="TeX Misc">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.0.94.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009
Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="TeX-Print"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="TeX-Misc.html#TeX-Misc">TeX Misc</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="LaTeX-Editing.html#LaTeX-Editing">LaTeX Editing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="TeX-Mode.html#TeX-Mode">TeX Mode</a>
<hr>
</div>

<h4 class="subsection">29.9.3 TeX Printing Commands</h4>

<p>You can invoke TeX as an inferior of Emacs on either the entire
contents of the buffer or just a region at a time.  Running TeX in
this way on just one chapter is a good way to see what your changes
look like without taking the time to format the entire file.

     <dl>
<dt><kbd>C-c C-r</kbd><dd>Invoke TeX on the current region, together with the buffer's header
(<code>tex-region</code>). 
<br><dt><kbd>C-c C-b</kbd><dd>Invoke TeX on the entire current buffer (<code>tex-buffer</code>). 
<br><dt><kbd>C-c &lt;TAB&gt;</kbd><dd>Invoke BibTeX on the current file (<code>tex-bibtex-file</code>). 
<br><dt><kbd>C-c C-f</kbd><dd>Invoke TeX on the current file (<code>tex-file</code>). 
<br><dt><kbd>C-c C-l</kbd><dd>Recenter the window showing output from the inferior TeX so that
the last line can be seen (<code>tex-recenter-output-buffer</code>). 
<br><dt><kbd>C-c C-k</kbd><dd>Kill the TeX subprocess (<code>tex-kill-job</code>). 
<br><dt><kbd>C-c C-p</kbd><dd>Print the output from the last <kbd>C-c C-r</kbd>, <kbd>C-c C-b</kbd>, or <kbd>C-c
C-f</kbd> command (<code>tex-print</code>). 
<br><dt><kbd>C-c C-v</kbd><dd>Preview the output from the last <kbd>C-c C-r</kbd>, <kbd>C-c C-b</kbd>, or <kbd>C-c
C-f</kbd> command (<code>tex-view</code>). 
<br><dt><kbd>C-c C-q</kbd><dd>Show the printer queue (<code>tex-show-print-queue</code>). 
<br><dt><kbd>C-c C-c</kbd><dd>Invoke some other compilation command on the entire current buffer
(<code>tex-compile</code>). 
</dl>

   <p><a name="index-tex_002dbuffer-1712"></a><a name="index-C_002dc-C_002db-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1713"></a><a name="index-tex_002dprint-1714"></a><a name="index-C_002dc-C_002dp-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1715"></a><a name="index-tex_002dview-1716"></a><a name="index-C_002dc-C_002dv-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1717"></a><a name="index-tex_002dshow_002dprint_002dqueue-1718"></a><a name="index-C_002dc-C_002dq-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1719"></a>  You can pass the current buffer through an inferior TeX by means of
<kbd>C-c C-b</kbd> (<code>tex-buffer</code>).  The formatted output appears in a
temporary file; to print it, type <kbd>C-c C-p</kbd> (<code>tex-print</code>). 
Afterward, you can use <kbd>C-c C-q</kbd> (<code>tex-show-print-queue</code>) to
view the progress of your output towards being printed.  If your terminal
has the ability to display TeX output files, you can preview the
output on the terminal with <kbd>C-c C-v</kbd> (<code>tex-view</code>).

   <p><a name="index-g_t_0040env_007bTEXINPUTS_007d-environment-variable-1720"></a><a name="index-tex_002ddirectory-1721"></a>  You can specify the directory to use for running TeX by setting the
variable <code>tex-directory</code>.  <code>"."</code> is the default value.  If
your environment variable <samp><span class="env">TEXINPUTS</span></samp> contains relative directory
names, or if your files contains `<samp><span class="samp">\input</span></samp>' commands with relative
file names, then <code>tex-directory</code> <em>must</em> be <code>"."</code> or you
will get the wrong results.  Otherwise, it is safe to specify some other
directory, such as <code>"/tmp"</code>.

   <p><a name="index-tex_002drun_002dcommand-1722"></a><a name="index-latex_002drun_002dcommand-1723"></a><a name="index-slitex_002drun_002dcommand-1724"></a><a name="index-tex_002ddvi_002dprint_002dcommand-1725"></a><a name="index-tex_002ddvi_002dview_002dcommand-1726"></a><a name="index-tex_002dshow_002dqueue_002dcommand-1727"></a>  If you want to specify which shell commands are used in the inferior TeX,
you can do so by setting the values of the variables <code>tex-run-command</code>,
<code>latex-run-command</code>, <code>slitex-run-command</code>,
<code>tex-dvi-print-command</code>, <code>tex-dvi-view-command</code>, and
<code>tex-show-queue-command</code>.  The default values may
(or may not) be appropriate for your system.

   <p>Normally, the file name given to these commands comes at the end of
the command string; for example, `<samp><span class="samp">latex </span><var>filename</var></samp>'.  In some
cases, however, the file name needs to be embedded in the command; an
example is when you need to provide the file name as an argument to one
command whose output is piped to another.  You can specify where to put
the file name with `<samp><span class="samp">*</span></samp>' in the command string.  For example,

<pre class="example">     (setq tex-dvi-print-command "dvips -f * | lpr")
</pre>
   <p><a name="index-tex_002dkill_002djob-1728"></a><a name="index-C_002dc-C_002dk-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1729"></a><a name="index-tex_002drecenter_002doutput_002dbuffer-1730"></a><a name="index-C_002dc-C_002dl-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1731"></a>  The terminal output from TeX, including any error messages, appears
in a buffer called `<samp><span class="samp">*tex-shell*</span></samp>'.  If TeX gets an error, you can
switch to this buffer and feed it input (this works as in Shell mode;
see <a href="Interactive-Shell.html#Interactive-Shell">Interactive Shell</a>).  Without switching to this buffer you can
scroll it so that its last line is visible by typing <kbd>C-c
C-l</kbd>.

   <p>Type <kbd>C-c C-k</kbd> (<code>tex-kill-job</code>) to kill the TeX process if
you see that its output is no longer useful.  Using <kbd>C-c C-b</kbd> or
<kbd>C-c C-r</kbd> also kills any TeX process still running.

   <p><a name="index-tex_002dregion-1732"></a><a name="index-C_002dc-C_002dr-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1733"></a>  You can also pass an arbitrary region through an inferior TeX by typing
<kbd>C-c C-r</kbd> (<code>tex-region</code>).  This is tricky, however, because most files
of TeX input contain commands at the beginning to set parameters and
define macros, without which no later part of the file will format
correctly.  To solve this problem, <kbd>C-c C-r</kbd> allows you to designate a
part of the file as containing essential commands; it is included before
the specified region as part of the input to TeX.  The designated part
of the file is called the <dfn>header</dfn>.

   <p><a name="index-header-_0028_0040TeX_007b_007d-mode_0029-1734"></a>  To indicate the bounds of the header in Plain TeX mode, you insert two
special strings in the file.  Insert `<samp><span class="samp">%**start of header</span></samp>' before the
header, and `<samp><span class="samp">%**end of header</span></samp>' after it.  Each string must appear
entirely on one line, but there may be other text on the line before or
after.  The lines containing the two strings are included in the header. 
If `<samp><span class="samp">%**start of header</span></samp>' does not appear within the first 100 lines of
the buffer, <kbd>C-c C-r</kbd> assumes that there is no header.

   <p>In LaTeX mode, the header begins with `<samp><span class="samp">\documentclass</span></samp>' or
`<samp><span class="samp">\documentstyle</span></samp>' and ends with `<samp><span class="samp">\begin{document}</span></samp>'.  These
are commands that LaTeX requires you to use in any case, so nothing
special needs to be done to identify the header.

   <p><a name="index-tex_002dfile-1735"></a><a name="index-C_002dc-C_002df-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1736"></a>  The commands (<code>tex-buffer</code>) and (<code>tex-region</code>) do all of their
work in a temporary directory, and do not have available any of the auxiliary
files needed by TeX for cross-references; these commands are generally
not suitable for running the final copy in which all of the cross-references
need to be correct.

   <p>When you want the auxiliary files for cross references, use <kbd>C-c
C-f</kbd> (<code>tex-file</code>) which runs TeX on the current buffer's file,
in that file's directory.  Before running TeX, it offers to save any
modified buffers.  Generally, you need to use (<code>tex-file</code>) twice to
get the cross-references right.

   <p><a name="index-tex_002dstart_002doptions-1737"></a>  The value of the variable <code>tex-start-options</code> specifies
options for the TeX run.

   <p><a name="index-tex_002dstart_002dcommands-1738"></a>  The value of the variable <code>tex-start-commands</code> specifies TeX
commands for starting TeX.  The default value causes TeX to run
in nonstop mode.  To run TeX interactively, set the variable to
<code>""</code>.

   <p><a name="index-tex_002dmain_002dfile-1739"></a>  Large TeX documents are often split into several files&mdash;one main
file, plus subfiles.  Running TeX on a subfile typically does not
work; you have to run it on the main file.  In order to make
<code>tex-file</code> useful when you are editing a subfile, you can set the
variable <code>tex-main-file</code> to the name of the main file.  Then
<code>tex-file</code> runs TeX on that file.

   <p>The most convenient way to use <code>tex-main-file</code> is to specify it
in a local variable list in each of the subfiles.  See <a href="File-Variables.html#File-Variables">File Variables</a>.

   <p><a name="index-tex_002dbibtex_002dfile-1740"></a><a name="index-C_002dc-TAB-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1741"></a><a name="index-tex_002dbibtex_002dcommand-1742"></a>  For LaTeX files, you can use BibTeX to process the auxiliary
file for the current buffer's file.  BibTeX looks up bibliographic
citations in a data base and prepares the cited references for the
bibliography section.  The command <kbd>C-c &lt;TAB&gt;</kbd>
(<code>tex-bibtex-file</code>) runs the shell command
(<code>tex-bibtex-command</code>) to produce a `<samp><span class="samp">.bbl</span></samp>' file for the
current buffer's file.  Generally, you need to do <kbd>C-c C-f</kbd>
(<code>tex-file</code>) once to generate the `<samp><span class="samp">.aux</span></samp>' file, then do
<kbd>C-c &lt;TAB&gt;</kbd> (<code>tex-bibtex-file</code>), and then repeat <kbd>C-c C-f</kbd>
(<code>tex-file</code>) twice more to get the cross-references correct.

   <p><a name="index-tex_002dcompile-1743"></a><a name="index-C_002dc-C_002dc-_0040r_007b_0028_0040TeX_007b_007d-mode_0029_007d-1744"></a>  To invoke some other compilation program on the current TeX
buffer, type <kbd>C-c C-c</kbd> (<code>tex-compile</code>).  This command knows
how to pass arguments to many common programs, including
<samp><span class="file">pdflatex</span></samp>, <samp><span class="file">yap</span></samp>, <samp><span class="file">xdvi</span></samp>, and <samp><span class="file">dvips</span></samp>.  You can
select your desired compilation program using the standard completion
keys (see <a href="Completion.html#Completion">Completion</a>).

   </body></html>

