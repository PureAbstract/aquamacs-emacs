<html lang="en">
<head>
<title>Mouse Menus - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Menu-Keymaps.html#Menu-Keymaps" title="Menu Keymaps">
<link rel="prev" href="Defining-Menus.html#Defining-Menus" title="Defining Menus">
<link rel="next" href="Keyboard-Menus.html#Keyboard-Menus" title="Keyboard Menus">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is edition 3.0 of the GNU Emacs Lisp Reference Manual,

corresponding to Emacs version 23.1.96.

Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010  Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Mouse-Menus"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Keyboard-Menus.html#Keyboard-Menus">Keyboard Menus</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Defining-Menus.html#Defining-Menus">Defining Menus</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Menu-Keymaps.html#Menu-Keymaps">Menu Keymaps</a>
<hr>
</div>

<h4 class="subsection">22.17.2 Menus and the Mouse</h4>

<p>The usual way to make a menu keymap produce a menu is to make it the
definition of a prefix key.  (A Lisp program can explicitly pop up a
menu and receive the user's choice&mdash;see <a href="Pop_002dUp-Menus.html#Pop_002dUp-Menus">Pop-Up Menus</a>.)

   <p>If the prefix key ends with a mouse event, Emacs handles the menu keymap
by popping up a visible menu, so that the user can select a choice with
the mouse.  When the user clicks on a menu item, the event generated is
whatever character or symbol has the binding that brought about that
menu item.  (A menu item may generate a series of events if the menu has
multiple levels or comes from the menu bar.)

   <p>It's often best to use a button-down event to trigger the menu.  Then
the user can select a menu item by releasing the button.

   <p>A single keymap can appear as multiple menu panes, if you explicitly
arrange for this.  The way to do this is to make a keymap for each pane,
then create a binding for each of those maps in the main keymap of the
menu.  Give each of these bindings an item string that starts with
&lsquo;<samp><span class="samp">@</span></samp>&rsquo;.  The rest of the item string becomes the name of the pane. 
See the file <samp><span class="file">lisp/mouse.el</span></samp> for an example of this.  Any ordinary
bindings with &lsquo;<samp><span class="samp">@</span></samp>&rsquo;-less item strings are grouped into one pane,
which appears along with the other panes explicitly created for the
submaps.

   <p>X toolkit menus don't have panes; instead, they can have submenus. 
Every nested keymap becomes a submenu, whether the item string starts
with &lsquo;<samp><span class="samp">@</span></samp>&rsquo; or not.  In a toolkit version of Emacs, the only thing
special about &lsquo;<samp><span class="samp">@</span></samp>&rsquo; at the beginning of an item string is that the
&lsquo;<samp><span class="samp">@</span></samp>&rsquo; doesn't appear in the menu item.

   <p>Multiple keymaps that define the same menu prefix key produce
separate panes or separate submenus.

   </body></html>

