<html lang="en">
<head>
<title>Choosing Window - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Windows.html#Windows" title="Windows">
<link rel="prev" href="Displaying-Buffers.html#Displaying-Buffers" title="Displaying Buffers">
<link rel="next" href="Window-Point.html#Window-Point" title="Window Point">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is edition 2.9 of the GNU Emacs Lisp Reference Manual,

corresponding to Emacs version 22.1.

Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007  Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Choosing-Window"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Window-Point.html#Window-Point">Window Point</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Displaying-Buffers.html#Displaying-Buffers">Displaying Buffers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Windows.html#Windows">Windows</a>
<hr>
</div>

<h3 class="section">28.8 Choosing a Window for Display</h3>

<p>This section describes the basic facility that chooses a window to
display a buffer in&mdash;<code>display-buffer</code>.  All the higher-level
functions and commands use this subroutine.  Here we describe how to use
<code>display-buffer</code> and how to customize it.

<div class="defun">
&mdash; Command: <b>display-buffer</b><var> buffer-or-name &amp;optional not-this-window frame<a name="index-display_002dbuffer-2021"></a></var><br>
<blockquote><p>This command makes <var>buffer-or-name</var> appear in some window, like
<code>pop-to-buffer</code>, but it does not select that window and does not
make the buffer current.  The identity of the selected window is
unaltered by this function.  <var>buffer-or-name</var> must be a buffer, or
the name of an existing buffer.

        <p>If <var>not-this-window</var> is non-<code>nil</code>, it means to display the
specified buffer in a window other than the selected one, even if it is
already on display in the selected window.  This can cause the buffer to
appear in two windows at once.  Otherwise, if <var>buffer-or-name</var> is
already being displayed in any window, that is good enough, so this
function does nothing.

        <p><code>display-buffer</code> returns the window chosen to display
<var>buffer-or-name</var>.

        <p>If the argument <var>frame</var> is non-<code>nil</code>, it specifies which frames
to check when deciding whether the buffer is already displayed.  If the
buffer is already displayed in some window on one of these frames,
<code>display-buffer</code> simply returns that window.  Here are the possible
values of <var>frame</var>:

          <ul>
<li>If it is <code>nil</code>, consider windows on the selected frame. 
(Actually, the last non-minibuffer frame.) 
<li>If it is <code>t</code>, consider windows on all frames. 
<li>If it is <code>visible</code>, consider windows on all visible frames. 
<li>If it is 0, consider windows on all visible or iconified frames. 
<li>If it is a frame, consider windows on that frame. 
</ul>

        <p>Precisely how <code>display-buffer</code> finds or creates a window depends on
the variables described below. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>display-buffer-reuse-frames</b><var><a name="index-display_002dbuffer_002dreuse_002dframes-2022"></a></var><br>
<blockquote><p>If this variable is non-<code>nil</code>, <code>display-buffer</code> searches
existing frames for a window displaying the buffer.  If the buffer is
already displayed in a window in some frame, <code>display-buffer</code> makes
the frame visible and raises it, to use that window.  If the buffer is
not already displayed, or if <code>display-buffer-reuse-frames</code> is
<code>nil</code>, <code>display-buffer</code>'s behavior is determined by other
variables, described below. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>pop-up-windows</b><var><a name="index-pop_002dup_002dwindows-2023"></a></var><br>
<blockquote><p>This variable controls whether <code>display-buffer</code> makes new windows. 
If it is non-<code>nil</code> and there is only one window, then that window
is split.  If it is <code>nil</code>, then <code>display-buffer</code> does not
split the single window, but uses it whole. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>split-height-threshold</b><var><a name="index-split_002dheight_002dthreshold-2024"></a></var><br>
<blockquote><p>This variable determines when <code>display-buffer</code> may split a window,
if there are multiple windows.  <code>display-buffer</code> always splits the
largest window if it has at least this many lines.  If the largest
window is not this tall, it is split only if it is the sole window and
<code>pop-up-windows</code> is non-<code>nil</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>even-window-heights</b><var><a name="index-even_002dwindow_002dheights-2025"></a></var><br>
<blockquote><p>This variable determines if <code>display-buffer</code> should even out window
heights if the buffer gets displayed in an existing window, above or
beneath another existing window.  If <code>even-window-heights</code> is
<code>t</code>, the default, window heights will be evened out.  If
<code>even-window-heights</code> is <code>nil</code>, the original window heights
will be left alone. 
</p></blockquote></div>

<!-- Emacs 19 feature -->
<div class="defun">
&mdash; User Option: <b>pop-up-frames</b><var><a name="index-pop_002dup_002dframes-2026"></a></var><br>
<blockquote><p>This variable controls whether <code>display-buffer</code> makes new frames. 
If it is non-<code>nil</code>, <code>display-buffer</code> looks for an existing
window already displaying the desired buffer, on any visible frame.  If
it finds one, it returns that window.  Otherwise it makes a new frame. 
The variables <code>pop-up-windows</code> and <code>split-height-threshold</code> do
not matter if <code>pop-up-frames</code> is non-<code>nil</code>.

        <p>If <code>pop-up-frames</code> is <code>nil</code>, then <code>display-buffer</code> either
splits a window or reuses one.

        <p>See <a href="Frames.html#Frames">Frames</a>, for more information. 
</p></blockquote></div>

<!-- Emacs 19 feature -->
<div class="defun">
&mdash; User Option: <b>pop-up-frame-function</b><var><a name="index-pop_002dup_002dframe_002dfunction-2027"></a></var><br>
<blockquote><p>This variable specifies how to make a new frame if <code>pop-up-frames</code>
is non-<code>nil</code>.

        <p>Its value should be a function of no arguments.  When
<code>display-buffer</code> makes a new frame, it does so by calling that
function, which should return a frame.  The default value of the
variable is a function that creates a frame using parameters from
<code>pop-up-frame-alist</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>pop-up-frame-alist</b><var><a name="index-pop_002dup_002dframe_002dalist-2028"></a></var><br>
<blockquote><p>This variable holds an alist specifying frame parameters used when
<code>display-buffer</code> makes a new frame.  See <a href="Frame-Parameters.html#Frame-Parameters">Frame Parameters</a>, for
more information about frame parameters. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>special-display-buffer-names</b><var><a name="index-special_002ddisplay_002dbuffer_002dnames-2029"></a></var><br>
<blockquote><p>A list of buffer names for buffers that should be displayed specially. 
If the buffer's name is in this list, <code>display-buffer</code> handles the
buffer specially.

        <p>By default, special display means to give the buffer a dedicated frame.

        <p>If an element is a list, instead of a string, then the <span class="sc">car</span> of the
list is the buffer name, and the rest of the list says how to create
the frame.  There are two possibilities for the rest of the list (its
<span class="sc">cdr</span>).  It can be an alist, specifying frame parameters, or it can
contain a function and arguments to give to it.  (The function's first
argument is always the buffer to be displayed; the arguments from the
list come after that.)

        <p>For example:

     <pre class="example">          (("myfile" (minibuffer) (menu-bar-lines . 0)))
     </pre>
        <p class="noindent">specifies to display a buffer named `<samp><span class="samp">myfile</span></samp>' in a dedicated frame
with specified <code>minibuffer</code> and <code>menu-bar-lines</code> parameters.

        <p>The list of frame parameters can also use the phony frame parameters
<code>same-frame</code> and <code>same-window</code>.  If the specified frame
parameters include <code>(same-window . </code><var>value</var><code>)</code> and <var>value</var>
is non-<code>nil</code>, that means to display the buffer in the current
selected window.  Otherwise, if they include <code>(same-frame . 
</code><var>value</var><code>)</code> and <var>value</var> is non-<code>nil</code>, that means to display
the buffer in a new window in the currently selected frame. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>special-display-regexps</b><var><a name="index-special_002ddisplay_002dregexps-2030"></a></var><br>
<blockquote><p>A list of regular expressions that specify buffers that should be
displayed specially.  If the buffer's name matches any of the regular
expressions in this list, <code>display-buffer</code> handles the buffer
specially.

        <p>By default, special display means to give the buffer a dedicated frame.

        <p>If an element is a list, instead of a string, then the <span class="sc">car</span> of the
list is the regular expression, and the rest of the list says how to
create the frame.  See above, under <code>special-display-buffer-names</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>special-display-p</b><var> buffer-name<a name="index-special_002ddisplay_002dp-2031"></a></var><br>
<blockquote><p>This function returns non-<code>nil</code> if displaying a buffer
named <var>buffer-name</var> with <code>display-buffer</code> would
create a special frame.  The value is <code>t</code> if it would
use the default frame parameters, or else the specified list
of frame parameters. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: <b>special-display-function</b><var><a name="index-special_002ddisplay_002dfunction-2032"></a></var><br>
<blockquote><p>This variable holds the function to call to display a buffer specially. 
It receives the buffer as an argument, and should return the window in
which it is displayed.

        <p>The default value of this variable is
<code>special-display-popup-frame</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>special-display-popup-frame</b><var> buffer &amp;optional args<a name="index-special_002ddisplay_002dpopup_002dframe-2033"></a></var><br>
<blockquote><p>This function makes <var>buffer</var> visible in a frame of its own.  If
<var>buffer</var> is already displayed in a window in some frame, it makes
the frame visible and raises it, to use that window.  Otherwise, it
creates a frame that will be dedicated to <var>buffer</var>.  This
function returns the window it used.

        <p>If <var>args</var> is an alist, it specifies frame parameters for the new
frame.

        <p>If <var>args</var> is a list whose <span class="sc">car</span> is a symbol, then <code>(car
</code><var>args</var><code>)</code> is called as a function to actually create and set up the
frame; it is called with <var>buffer</var> as first argument, and <code>(cdr
</code><var>args</var><code>)</code> as additional arguments.

        <p>This function always uses an existing window displaying <var>buffer</var>,
whether or not it is in a frame of its own; but if you set up the above
variables in your init file, before <var>buffer</var> was created, then
presumably the window was previously made by this function. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>special-display-frame-alist</b><var><a name="index-special_002ddisplay_002dframe_002dalist-2034"></a></var><br>
<blockquote><p><a name="Definition-of-special_002ddisplay_002dframe_002dalist"></a>
This variable holds frame parameters for
<code>special-display-popup-frame</code> to use when it creates a frame. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>same-window-buffer-names</b><var><a name="index-same_002dwindow_002dbuffer_002dnames-2035"></a></var><br>
<blockquote><p>A list of buffer names for buffers that should be displayed in the
selected window.  If the buffer's name is in this list,
<code>display-buffer</code> handles the buffer by switching to it in the
selected window. 
</p></blockquote></div>

<div class="defun">
&mdash; User Option: <b>same-window-regexps</b><var><a name="index-same_002dwindow_002dregexps-2036"></a></var><br>
<blockquote><p>A list of regular expressions that specify buffers that should be
displayed in the selected window.  If the buffer's name matches any of
the regular expressions in this list, <code>display-buffer</code> handles the
buffer by switching to it in the selected window. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>same-window-p</b><var> buffer-name<a name="index-same_002dwindow_002dp-2037"></a></var><br>
<blockquote><p>This function returns <code>t</code> if displaying a buffer
named <var>buffer-name</var> with <code>display-buffer</code> would
put it in the selected window. 
</p></blockquote></div>

<!-- Emacs 19 feature -->
<div class="defun">
&mdash; Variable: <b>display-buffer-function</b><var><a name="index-display_002dbuffer_002dfunction-2038"></a></var><br>
<blockquote><p>This variable is the most flexible way to customize the behavior of
<code>display-buffer</code>.  If it is non-<code>nil</code>, it should be a function
that <code>display-buffer</code> calls to do the work.  The function should
accept two arguments, the first two arguments that <code>display-buffer</code>
received.  It should choose or create a window, display the specified
buffer in it, and then return the window.

        <p>This hook takes precedence over all the other options and hooks
described above. 
</p></blockquote></div>

<!-- Emacs 19 feature -->
<p><a name="index-dedicated-window-2039"></a>A window can be marked as &ldquo;dedicated&rdquo; to its buffer.  Then
<code>display-buffer</code> will not try to use that window to display any
other buffer.

<div class="defun">
&mdash; Function: <b>window-dedicated-p</b><var> window<a name="index-window_002ddedicated_002dp-2040"></a></var><br>
<blockquote><p>This function returns non-<code>nil</code> if <var>window</var> is marked as
dedicated; otherwise <code>nil</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>set-window-dedicated-p</b><var> window flag<a name="index-set_002dwindow_002ddedicated_002dp-2041"></a></var><br>
<blockquote><p>This function marks <var>window</var> as dedicated if <var>flag</var> is
non-<code>nil</code>, and nondedicated otherwise. 
</p></blockquote></div>

   </body></html>

