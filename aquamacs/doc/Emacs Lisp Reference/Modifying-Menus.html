<html lang="en">
<head>
<title>Modifying Menus - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Menu-Keymaps.html#Menu-Keymaps" title="Menu Keymaps">
<link rel="prev" href="Tool-Bar.html#Tool-Bar" title="Tool Bar">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is edition 2.9 of the GNU Emacs Lisp Reference Manual,

corresponding to Emacs version 22.1.

Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007  Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Modifying-Menus"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Tool-Bar.html#Tool-Bar">Tool Bar</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Menu-Keymaps.html#Menu-Keymaps">Menu Keymaps</a>
<hr>
</div>

<h4 class="subsection">22.17.7 Modifying Menus</h4>

<p>When you insert a new item in an existing menu, you probably want to
put it in a particular place among the menu's existing items.  If you
use <code>define-key</code> to add the item, it normally goes at the front of
the menu.  To put it elsewhere in the menu, use <code>define-key-after</code>:

<div class="defun">
&mdash; Function: <b>define-key-after</b><var> map key binding &amp;optional after<a name="index-define_002dkey_002dafter-1515"></a></var><br>
<blockquote><p>Define a binding in <var>map</var> for <var>key</var>, with value <var>binding</var>,
just like <code>define-key</code>, but position the binding in <var>map</var> after
the binding for the event <var>after</var>.  The argument <var>key</var> should be
of length one&mdash;a vector or string with just one element.  But
<var>after</var> should be a single event type&mdash;a symbol or a character, not
a sequence.  The new binding goes after the binding for <var>after</var>.  If
<var>after</var> is <code>t</code> or is omitted, then the new binding goes last, at
the end of the keymap.  However, new bindings are added before any
inherited keymap.

        <p>Here is an example:

     <pre class="example">          (define-key-after my-menu [drink]
            '("Drink" . drink-command) 'eat)
     </pre>
        <p class="noindent">makes a binding for the fake function key &lt;DRINK&gt; and puts it
right after the binding for &lt;EAT&gt;.

        <p>Here is how to insert an item called `<samp><span class="samp">Work</span></samp>' in the `<samp><span class="samp">Signals</span></samp>'
menu of Shell mode, after the item <code>break</code>:

     <pre class="example">          (define-key-after
            (lookup-key shell-mode-map [menu-bar signals])
            [work] '("Work" . work-command) 'break)
     </pre>
        </blockquote></div>

<!-- *-texinfo-*- -->
<!-- This is part of the GNU Emacs Lisp Reference Manual. -->
<!-- Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1998, 1999, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See the file elisp.texi for copying conditions. -->
</body></html>

