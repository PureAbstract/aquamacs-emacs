<html lang="en">
<head>
<title>Simple Match Data - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Match-Data.html#Match-Data" title="Match Data">
<link rel="prev" href="Replacing-Match.html#Replacing-Match" title="Replacing Match">
<link rel="next" href="Entire-Match-Data.html#Entire-Match-Data" title="Entire Match Data">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is edition 2.9 of the GNU Emacs Lisp Reference Manual,

corresponding to Emacs version 22.1.

Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007  Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Simple-Match-Data"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Entire-Match-Data.html#Entire-Match-Data">Entire Match Data</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Replacing-Match.html#Replacing-Match">Replacing Match</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Match-Data.html#Match-Data">Match Data</a>
<hr>
</div>

<h4 class="subsection">34.6.2 Simple Match Data Access</h4>

<p>This section explains how to use the match data to find out what was
matched by the last search or match operation, if it succeeded.

   <p>You can ask about the entire matching text, or about a particular
parenthetical subexpression of a regular expression.  The <var>count</var>
argument in the functions below specifies which.  If <var>count</var> is
zero, you are asking about the entire match.  If <var>count</var> is
positive, it specifies which subexpression you want.

   <p>Recall that the subexpressions of a regular expression are those
expressions grouped with escaped parentheses, `<samp><span class="samp">\(...\)</span></samp>'.  The
<var>count</var>th subexpression is found by counting occurrences of
`<samp><span class="samp">\(</span></samp>' from the beginning of the whole regular expression.  The first
subexpression is numbered 1, the second 2, and so on.  Only regular
expressions can have subexpressions&mdash;after a simple string search, the
only information available is about the entire match.

   <p>Every successful search sets the match data.  Therefore, you should
query the match data immediately after searching, before calling any
other function that might perform another search.  Alternatively, you
may save and restore the match data (see <a href="Saving-Match-Data.html#Saving-Match-Data">Saving Match Data</a>) around
the call to functions that could perform another search.

   <p>A search which fails may or may not alter the match data.  In the
past, a failing search did not do this, but we may change it in the
future.  So don't try to rely on the value of the match data after
a failing search.

<div class="defun">
&mdash; Function: <b>match-string</b><var> count &amp;optional in-string<a name="index-match_002dstring-2861"></a></var><br>
<blockquote><p>This function returns, as a string, the text matched in the last search
or match operation.  It returns the entire text if <var>count</var> is zero,
or just the portion corresponding to the <var>count</var>th parenthetical
subexpression, if <var>count</var> is positive.

        <p>If the last such operation was done against a string with
<code>string-match</code>, then you should pass the same string as the
argument <var>in-string</var>.  After a buffer search or match,
you should omit <var>in-string</var> or pass <code>nil</code> for it; but you
should make sure that the current buffer when you call
<code>match-string</code> is the one in which you did the searching or
matching.

        <p>The value is <code>nil</code> if <var>count</var> is out of range, or for a
subexpression inside a `<samp><span class="samp">\|</span></samp>' alternative that wasn't used or a
repetition that repeated zero times. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>match-string-no-properties</b><var> count &amp;optional in-string<a name="index-match_002dstring_002dno_002dproperties-2862"></a></var><br>
<blockquote><p>This function is like <code>match-string</code> except that the result
has no text properties. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>match-beginning</b><var> count<a name="index-match_002dbeginning-2863"></a></var><br>
<blockquote><p>This function returns the position of the start of text matched by the
last regular expression searched for, or a subexpression of it.

        <p>If <var>count</var> is zero, then the value is the position of the start of
the entire match.  Otherwise, <var>count</var> specifies a subexpression in
the regular expression, and the value of the function is the starting
position of the match for that subexpression.

        <p>The value is <code>nil</code> for a subexpression inside a `<samp><span class="samp">\|</span></samp>'
alternative that wasn't used or a repetition that repeated zero times. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>match-end</b><var> count<a name="index-match_002dend-2864"></a></var><br>
<blockquote><p>This function is like <code>match-beginning</code> except that it returns the
position of the end of the match, rather than the position of the
beginning. 
</p></blockquote></div>

   <p>Here is an example of using the match data, with a comment showing the
positions within the text:

<pre class="example">     (string-match "\\(qu\\)\\(ick\\)"
                   "The quick fox jumped quickly.")
                   ;0123456789
          =&gt; 4
     
     (match-string 0 "The quick fox jumped quickly.")
          =&gt; "quick"
     (match-string 1 "The quick fox jumped quickly.")
          =&gt; "qu"
     (match-string 2 "The quick fox jumped quickly.")
          =&gt; "ick"
     
     (match-beginning 1)       ; <span class="roman">The beginning of the match</span>
          =&gt; 4                 ;   <span class="roman">with `<samp>qu</samp>' is at index 4.</span>
     
     (match-beginning 2)       ; <span class="roman">The beginning of the match</span>
          =&gt; 6                 ;   <span class="roman">with `<samp>ick</samp>' is at index 6.</span>
     
     (match-end 1)             ; <span class="roman">The end of the match</span>
          =&gt; 6                 ;   <span class="roman">with `<samp>qu</samp>' is at index 6.</span>
     
     (match-end 2)             ; <span class="roman">The end of the match</span>
          =&gt; 9                 ;   <span class="roman">with `<samp>ick</samp>' is at index 9.</span>
</pre>
   <p>Here is another example.  Point is initially located at the beginning
of the line.  Searching moves point to between the space and the word
`<samp><span class="samp">in</span></samp>'.  The beginning of the entire match is at the 9th character of
the buffer (`<samp><span class="samp">T</span></samp>'), and the beginning of the match for the first
subexpression is at the 13th character (`<samp><span class="samp">c</span></samp>').

<pre class="example">     (list
       (re-search-forward "The \\(cat \\)")
       (match-beginning 0)
       (match-beginning 1))
         =&gt; (9 9 13)
     
     ---------- Buffer: foo ----------
     I read "The cat -!-in the hat comes back" twice.
             ^   ^
             9  13
     ---------- Buffer: foo ----------
</pre>
   <p class="noindent">(In this case, the index returned is a buffer position; the first
character of the buffer counts as 1.)

   </body></html>

