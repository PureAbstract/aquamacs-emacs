<html lang="en">
<head>
<title>Window Hooks - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Windows.html#Windows" title="Windows">
<link rel="prev" href="Window-Configurations.html#Window-Configurations" title="Window Configurations">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is edition 2.9 of the GNU Emacs Lisp Reference Manual,

corresponding to Emacs version 22.1.

Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007  Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<p>
<a name="Window-Hooks"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Window-Configurations.html#Window-Configurations">Window Configurations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Windows.html#Windows">Windows</a>
<hr>
</div>

<h3 class="section">28.19 Hooks for Window Scrolling and Changes</h3>

<p><a name="index-hooks-for-window-operations-2117"></a>
This section describes how a Lisp program can take action whenever a
window displays a different part of its buffer or a different buffer. 
There are three actions that can change this: scrolling the window,
switching buffers in the window, and changing the size of the window. 
The first two actions run <code>window-scroll-functions</code>; the last runs
<code>window-size-change-functions</code>.

<div class="defun">
&mdash; Variable: <b>window-scroll-functions</b><var><a name="index-window_002dscroll_002dfunctions-2118"></a></var><br>
<blockquote><p>This variable holds a list of functions that Emacs should call before
redisplaying a window with scrolling.  It is not a normal hook, because
each function is called with two arguments: the window, and its new
display-start position.

        <p>Displaying a different buffer in the window also runs these functions.

        <p>These functions must be careful in using <code>window-end</code>
(see <a href="Window-Start.html#Window-Start">Window Start</a>); if you need an up-to-date value, you must use
the <var>update</var> argument to ensure you get it.

        <p><strong>Warning:</strong> don't use this feature to alter the way the window
is scrolled.  It's not designed for that, and such use probably won't
work. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: <b>window-size-change-functions</b><var><a name="index-window_002dsize_002dchange_002dfunctions-2119"></a></var><br>
<blockquote><p>This variable holds a list of functions to be called if the size of any
window changes for any reason.  The functions are called just once per
redisplay, and just once for each frame on which size changes have
occurred.

        <p>Each function receives the frame as its sole argument.  There is no
direct way to find out which windows on that frame have changed size, or
precisely how.  However, if a size-change function records, at each
call, the existing windows and their sizes, it can also compare the
present sizes and the previous sizes.

        <p>Creating or deleting windows counts as a size change, and therefore
causes these functions to be called.  Changing the frame size also
counts, because it changes the sizes of the existing windows.

        <p>It is not a good idea to use <code>save-window-excursion</code> (see <a href="Window-Configurations.html#Window-Configurations">Window Configurations</a>) in these functions, because that always counts as a
size change, and it would cause these functions to be called over and
over.  In most cases, <code>save-selected-window</code> (see <a href="Selecting-Windows.html#Selecting-Windows">Selecting Windows</a>) is what you need here. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: <b>redisplay-end-trigger-functions</b><var><a name="index-redisplay_002dend_002dtrigger_002dfunctions-2120"></a></var><br>
<blockquote><p>This abnormal hook is run whenever redisplay in a window uses text that
extends past a specified end trigger position.  You set the end trigger
position with the function <code>set-window-redisplay-end-trigger</code>.  The
functions are called with two arguments: the window, and the end trigger
position.  Storing <code>nil</code> for the end trigger position turns off the
feature, and the trigger value is automatically reset to <code>nil</code> just
after the hook is run. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>set-window-redisplay-end-trigger</b><var> window position<a name="index-set_002dwindow_002dredisplay_002dend_002dtrigger-2121"></a></var><br>
<blockquote><p>This function sets <var>window</var>'s end trigger position at
<var>position</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>window-redisplay-end-trigger</b><var> &amp;optional window<a name="index-window_002dredisplay_002dend_002dtrigger-2122"></a></var><br>
<blockquote><p>This function returns <var>window</var>'s current end trigger position. 
If <var>window</var> is <code>nil</code> or omitted, it uses the selected window. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: <b>window-configuration-change-hook</b><var><a name="index-window_002dconfiguration_002dchange_002dhook-2123"></a></var><br>
<blockquote><p>A normal hook that is run every time you change the window configuration
of an existing frame.  This includes splitting or deleting windows,
changing the sizes of windows, or displaying a different buffer in a
window.  The frame whose window configuration has changed is the
selected frame when this hook runs. 
</p></blockquote></div>

<!-- *-texinfo-*- -->
<!-- This is part of the GNU Emacs Lisp Reference Manual. -->
<!-- Copyright (C) 1990, 1991, 1992, 1993, 1994, 1995, 1998, 1999, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See the file elisp.texi for copying conditions. -->
</body></html>

