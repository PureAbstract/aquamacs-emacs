<html lang="en">
<head>
<title>VC With A Merging VCS - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Basic-VC-Editing.html#Basic-VC-Editing" title="Basic VC Editing">
<link rel="next" href="VC-With-A-Locking-VCS.html#VC-With-A-Locking-VCS" title="VC With A Locking VCS">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 24.3.50.

Copyright (C) 1985--1987, 1993--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="VC-With-A-Merging-VCS"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="VC-With-A-Locking-VCS.html#VC-With-A-Locking-VCS">VC With A Locking VCS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Basic-VC-Editing.html#Basic-VC-Editing">Basic VC Editing</a>
<hr>
</div>

<h5 class="subsubsection">28.1.3.1 Basic Version Control with Merging</h5>

<p>On a merging-based version control system (i.e., most modern ones;
see <a href="VCS-Merging.html#VCS-Merging">VCS Merging</a>), <kbd>C-x v v</kbd> does the following:

     <ul>
<li>If there is more than one file in the VC fileset and the files have
inconsistent version control statuses, signal an error.  (Note,
however, that a fileset is allowed to include both &ldquo;newly-added&rdquo;
files and &ldquo;modified&rdquo; files; see <a href="Registering.html#Registering">Registering</a>.)

     <li>If none of the files in the VC fileset are registered with a version
control system, register the VC fileset, i.e., place it under version
control.  See <a href="Registering.html#Registering">Registering</a>.  If Emacs cannot find a system to
register under, it prompts for a repository type, creates a new
repository, and registers the VC fileset with it.

     <li>If every work file in the VC fileset is unchanged, do nothing.

     <li>If every work file in the VC fileset has been modified, commit the
changes.  To do this, Emacs pops up a <samp><span class="file">*vc-log*</span></samp> buffer; type the
desired log entry for the new revision, followed by <kbd>C-c C-c</kbd> to
commit.  See <a href="Log-Buffer.html#Log-Buffer">Log Buffer</a>.

     <p>If committing to a shared repository, the commit may fail if the
repository that has been changed since your last update.  In that
case, you must perform an update before trying again.  On a
decentralized version control system, use <kbd>C-x v +</kbd> (see <a href="VC-Pull.html#VC-Pull">VC Pull</a>) or <kbd>C-x v m</kbd> (see <a href="Merging.html#Merging">Merging</a>).  On a centralized version
control system, type <kbd>C-x v v</kbd> again to merge in the repository
changes.

     <li>Finally, if you are using a centralized version control system, check
if each work file in the VC fileset is up-to-date.  If any file has
been changed in the repository, offer to update it. 
</ul>

   <p>These rules also apply when you use RCS in its &ldquo;non-locking&rdquo; mode,
except that changes are not automatically merged from the repository. 
Nothing informs you if another user has committed changes in the same
file since you began editing it; when you commit your revision, his
changes are removed (however, they remain in the repository and are
thus not irrevocably lost).  Therefore, you must verify that the
current revision is unchanged before committing your changes.  In
addition, locking is possible with RCS even in this mode: <kbd>C-x v
v</kbd> with an unmodified file locks the file, just as it does with RCS in
its normal locking mode (see <a href="VC-With-A-Locking-VCS.html#VC-With-A-Locking-VCS">VC With A Locking VCS</a>).

   </body></html>

