<html lang="en">
<head>
<title>Shell Prompts - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Shell.html#Shell" title="Shell">
<link rel="prev" href="Shell-Mode.html#Shell-Mode" title="Shell Mode">
<link rel="next" href="Shell-History.html#Shell-History" title="Shell History">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 24.3.50.

Copyright (C) 1985--1987, 1993--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Shell-Prompts"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Shell-History.html#Shell-History">Shell History</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Shell-Mode.html#Shell-Mode">Shell Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Shell.html#Shell">Shell</a>
<hr>
</div>

<h3 class="section">36.4 Shell Prompts</h3>

<p><a name="index-prompt_002c-shell-3978"></a>  A prompt is text output by a program to show that it is ready to
accept new user input.  Normally, Comint mode (and thus Shell mode)
automatically figures out part of the buffer is a prompt, based on the
output of the subprocess.  (Specifically, it assumes that any received
output line which doesn't end with a newline is a prompt.)

   <p>Comint mode divides the buffer into two types of <dfn>fields</dfn>: input
fields (where user input is typed) and output fields (everywhere
else).  Prompts are part of the output fields.  Most Emacs motion
commands do not cross field boundaries, unless they move over multiple
lines.  For instance, when point is in the input field on a shell
command line, <kbd>C-a</kbd> puts point at the beginning of the input
field, after the prompt.  Internally, the fields are implemented using
the <code>field</code> text property (see <a href="../elisp/Text-Properties.html#Text-Properties">Text Properties</a>).

   <p><a name="index-comint_002duse_002dprompt_002dregexp-3979"></a><a name="index-shell_002dprompt_002dpattern-3980"></a>  If you change the variable <code>comint-use-prompt-regexp</code> to a
non-<code>nil</code> value, then Comint mode recognize prompts using a
regular expression (see <a href="Regexps.html#Regexps">Regexps</a>).  In Shell mode, the regular
expression is specified by the variable <code>shell-prompt-pattern</code>. 
The default value of <code>comint-use-prompt-regexp</code> is <code>nil</code>,
because this method for recognizing prompts is unreliable, but you may
want to set it to a non-<code>nil</code> value in unusual circumstances.  In
that case, Emacs does not divide the Comint buffer into fields, so the
general motion commands behave as they normally do in buffers without
special text properties.  However, you can use the paragraph motion
commands to conveniently navigate the buffer (see <a href="Paragraphs.html#Paragraphs">Paragraphs</a>); in
Shell mode, Emacs uses <code>shell-prompt-pattern</code> as paragraph
boundaries.

   </body></html>

