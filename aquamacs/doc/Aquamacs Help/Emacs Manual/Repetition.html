<html lang="en">
<head>
<title>Repetition - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Minibuffer.html#Minibuffer" title="Minibuffer">
<link rel="prev" href="Minibuffer-History.html#Minibuffer-History" title="Minibuffer History">
<link rel="next" href="Passwords.html#Passwords" title="Passwords">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 24.3.50.

Copyright (C) 1985--1987, 1993--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Repetition"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Passwords.html#Passwords">Passwords</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Minibuffer-History.html#Minibuffer-History">Minibuffer History</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Minibuffer.html#Minibuffer">Minibuffer</a>
<hr>
</div>

<h3 class="section">8.6 Repeating Minibuffer Commands</h3>

<p><a name="index-command-history-242"></a><a name="index-history-of-commands-243"></a>
  Every command that uses the minibuffer once is recorded on a special
history list, the <dfn>command history</dfn>, together with the values of
its arguments, so that you can repeat the entire command.  In
particular, every use of <kbd>M-x</kbd> is recorded there, since <kbd>M-x</kbd>
uses the minibuffer to read the command name.

   <p><a name="index-list_002dcommand_002dhistory-244"></a>
     <dl>
<dt><kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd><dd>Re-execute a recent minibuffer command from the command history
 (<code>repeat-complex-command</code>). 
<br><dt><kbd>M-x list-command-history</kbd><dd>Display the entire command history, showing all the commands
<kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> can repeat, most recent first. 
</dl>

   <p><a name="index-C_002dx-ESC-ESC-245"></a><a name="index-repeat_002dcomplex_002dcommand-246"></a>  <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> re-executes a recent command that used
the minibuffer.  With no argument, it repeats the last such command. 
A numeric argument specifies which command to repeat; 1 means the last
one, 2 the previous, and so on.

   <p><kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> works by turning the previous command
into a Lisp expression and then entering a minibuffer initialized with
the text for that expression.  Even if you don't know Lisp, it will
probably be obvious which command is displayed for repetition.  If you
type just &lt;RET&gt;, that repeats the command unchanged.  You can also
change the command by editing the Lisp expression before you execute
it.  The executed command is added to the front of the command history
unless it is identical to the most recent item.

   <p>Once inside the minibuffer for <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd>, you
can use the usual minibuffer history commands (see <a href="Minibuffer-History.html#Minibuffer-History">Minibuffer History</a>) to move through the history list.  After finding the desired
previous command, you can edit its expression as usual and then execute
it by typing &lt;RET&gt;.

   <p><a name="index-isearch_002dresume_002din_002dcommand_002dhistory-247"></a>  Incremental search does not, strictly speaking, use the minibuffer. 
Therefore, although it behaves like a complex command, it normally
does not appear in the history list for <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd>. 
You can make incremental search commands appear in the history by
setting <code>isearch-resume-in-command-history</code> to a non-<code>nil</code>
value.  See <a href="Incremental-Search.html#Incremental-Search">Incremental Search</a>.

   <p><a name="index-command_002dhistory-248"></a>  The list of previous minibuffer-using commands is stored as a Lisp
list in the variable <code>command-history</code>.  Each element is a Lisp
expression that describes one command and its arguments.  Lisp programs
can re-execute a command by calling <code>eval</code> with the
<code>command-history</code> element.

   </body></html>

