<html lang="en">
<head>
<title>Rmail Coding - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Rmail.html#Rmail" title="Rmail">
<link rel="prev" href="Rmail-Display.html#Rmail-Display" title="Rmail Display">
<link rel="next" href="Rmail-Editing.html#Rmail-Editing" title="Rmail Editing">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 24.3.50.

Copyright (C) 1985--1987, 1993--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Rmail-Coding"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Rmail-Editing.html#Rmail-Editing">Rmail Editing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Rmail-Display.html#Rmail-Display">Rmail Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Rmail.html#Rmail">Rmail</a>
<hr>
</div>

<h3 class="section">33.14 Rmail and Coding Systems</h3>

<p><a name="index-decoding-mail-messages-_0028Rmail_0029-3797"></a>  Rmail automatically decodes messages which contain non-<acronym>ASCII</acronym>
characters, just as Emacs does with files you visit and with subprocess
output.  Rmail uses the standard &lsquo;<samp><span class="samp">charset=</span><var>charset</var></samp>&rsquo; header in
the message, if any, to determine how the message was encoded by the
sender.  It maps <var>charset</var> into the corresponding Emacs coding
system (see <a href="Coding-Systems.html#Coding-Systems">Coding Systems</a>), and uses that coding system to decode
message text.  If the message header doesn't have the &lsquo;<samp><span class="samp">charset</span></samp>&rsquo;
specification, or if <var>charset</var> is not recognized,
Rmail chooses the coding system with the usual Emacs heuristics and
defaults (see <a href="Recognize-Coding.html#Recognize-Coding">Recognize Coding</a>).

   <p><a name="index-fixing-incorrectly-decoded-mail-messages-3798"></a>  Occasionally, a message is decoded incorrectly, either because Emacs
guessed the wrong coding system in the absence of the &lsquo;<samp><span class="samp">charset</span></samp>&rsquo;
specification, or because the specification was inaccurate.  For
example, a misconfigured mailer could send a message with a
&lsquo;<samp><span class="samp">charset=iso-8859-1</span></samp>&rsquo; header when the message is actually encoded
in <code>koi8-r</code>.  When you see the message text garbled, or some of
its characters displayed as hex codes or empty boxes, this may have
happened.

   <p><a name="index-rmail_002dredecode_002dbody-3799"></a>  You can correct the problem by decoding the message again using the
right coding system, if you can figure out or guess which one is
right.  To do this, invoke the <kbd>M-x rmail-redecode-body</kbd> command. 
It reads the name of a coding system, and then redecodes the message
using the coding system you specified.  If you specified the right
coding system, the result should be readable.

   <p><a name="index-rmail_002dfile_002dcoding_002dsystem-3800"></a>  When you get new mail in Rmail, each message is translated
automatically from the coding system it is written in, as if it were a
separate file.  This uses the priority list of coding systems that you
have specified.  If a MIME message specifies a character set, Rmail
obeys that specification.  For reading and saving Rmail files
themselves, Emacs uses the coding system specified by the variable
<code>rmail-file-coding-system</code>.  The default value is <code>nil</code>,
which means that Rmail files are not translated (they are read and
written in the Emacs internal character code).

   </body></html>

