<html lang="en">
<head>
<title>Rmail Deletion - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Rmail.html#Rmail" title="Rmail">
<link rel="prev" href="Rmail-Motion.html#Rmail-Motion" title="Rmail Motion">
<link rel="next" href="Rmail-Inbox.html#Rmail-Inbox" title="Rmail Inbox">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 24.3.50.

Copyright (C) 1985--1987, 1993--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Rmail-Deletion"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Rmail-Inbox.html#Rmail-Inbox">Rmail Inbox</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Rmail-Motion.html#Rmail-Motion">Rmail Motion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Rmail.html#Rmail">Rmail</a>
<hr>
</div>

<h3 class="section">33.4 Deleting Messages</h3>

<p><a name="index-deletion-_0028Rmail_0029-3688"></a>  When you no longer need to keep a message, you can <dfn>delete</dfn> it.  This
flags it as ignorable, and some Rmail commands pretend it is no longer
present; but it still has its place in the Rmail file, and still has its
message number.

   <p><a name="index-expunging-_0028Rmail_0029-3689"></a>  <dfn>Expunging</dfn> the Rmail file actually removes the deleted messages. 
The remaining messages are renumbered consecutively. 
<!-- The following is neither true (there is also unforward, sorting, -->
<!-- etc), nor especially interesting. -->
<!-- Expunging is the only action that changes the message number of any -->
<!-- message, except for undigestifying (@pxref{Rmail Digest}). -->

     <dl>
<dt><kbd>d</kbd><dd>Delete the current message, and move to the next nondeleted message
(<code>rmail-delete-forward</code>). 
<br><dt><kbd>C-d</kbd><dd>Delete the current message, and move to the previous nondeleted
message (<code>rmail-delete-backward</code>). 
<br><dt><kbd>u</kbd><dd>Undelete the current message, or move back to the previous deleted
message and undelete it (<code>rmail-undelete-previous-message</code>). 
<br><dt><kbd>x</kbd><dd>Expunge the Rmail file (<code>rmail-expunge</code>). 
</dl>

   <p><a name="index-d-_0040r_007b_0028Rmail_0029_007d-3690"></a><a name="index-C_002dd-_0040r_007b_0028Rmail_0029_007d-3691"></a><a name="index-rmail_002ddelete_002dforward-3692"></a><a name="index-rmail_002ddelete_002dbackward-3693"></a>  There are two Rmail commands for deleting messages.  Both delete the
current message and select another.  <kbd>d</kbd>
(<code>rmail-delete-forward</code>) moves to the following message, skipping
messages already deleted, while <kbd>C-d</kbd> (<code>rmail-delete-backward</code>)
moves to the previous nondeleted message.  If there is no nondeleted
message to move to in the specified direction, the message that was just
deleted remains current.  <kbd>d</kbd> with a prefix argument is equivalent
to <kbd>C-d</kbd>.  Note that the Rmail summary versions of these commands
behave slightly differently (see <a href="Rmail-Summary-Edit.html#Rmail-Summary-Edit">Rmail Summary Edit</a>).

<!-- mention other hooks, e.g., show message hook? -->
   <p><a name="index-rmail_002ddelete_002dmessage_002dhook-3694"></a>  Whenever Rmail deletes a message, it runs the hook
<code>rmail-delete-message-hook</code>.  When the hook functions are invoked,
the message has been marked deleted, but it is still the current message
in the Rmail buffer.

   <p><a name="index-undeletion-_0028Rmail_0029-3695"></a><a name="index-x-_0040r_007b_0028Rmail_0029_007d-3696"></a><a name="index-rmail_002dexpunge-3697"></a><a name="index-u-_0040r_007b_0028Rmail_0029_007d-3698"></a><a name="index-rmail_002dundelete_002dprevious_002dmessage-3699"></a>  To make all the deleted messages finally vanish from the Rmail file,
type <kbd>x</kbd> (<code>rmail-expunge</code>).  Until you do this, you can still
<dfn>undelete</dfn> the deleted messages.  The undeletion command, <kbd>u</kbd>
(<code>rmail-undelete-previous-message</code>), is designed to cancel the
effect of a <kbd>d</kbd> command in most cases.  It undeletes the current
message if the current message is deleted.  Otherwise it moves backward
to previous messages until a deleted message is found, and undeletes
that message.

   <p>You can usually undo a <kbd>d</kbd> with a <kbd>u</kbd> because the <kbd>u</kbd>
moves back to and undeletes the message that the <kbd>d</kbd> deleted.  But
this does not work when the <kbd>d</kbd> skips a few already-deleted messages
that follow the message being deleted; then the <kbd>u</kbd> command
undeletes the last of the messages that were skipped.  There is no clean
way to avoid this problem.  However, by repeating the <kbd>u</kbd> command,
you can eventually get back to the message that you intend to
undelete.  You can also select a particular deleted message with
the <kbd>M-p</kbd> command, then type <kbd>u</kbd> to undelete it.

   <p>A deleted message has the &lsquo;<samp><span class="samp">deleted</span></samp>&rsquo; attribute, and as a result
&lsquo;<samp><span class="samp">deleted</span></samp>&rsquo; appears in the mode line when the current message is
deleted.  In fact, deleting or undeleting a message is nothing more than
adding or removing this attribute.  See <a href="Rmail-Attributes.html#Rmail-Attributes">Rmail Attributes</a>.

   </body></html>

