<html lang="en">
<head>
<title>Test Coverage - GNU Emacs Lisp Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNU Emacs Lisp Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Debugging.html#Debugging" title="Debugging">
<link rel="prev" href="Syntax-Errors.html#Syntax-Errors" title="Syntax Errors">
<link rel="next" href="Profiling.html#Profiling" title="Profiling">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 24.3.50.

Copyright (C) 1990--1996, 1998--2013 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Test-Coverage"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Profiling.html#Profiling">Profiling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Syntax-Errors.html#Syntax-Errors">Syntax Errors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Debugging.html#Debugging">Debugging</a>
<hr>
</div>

<h3 class="section">18.4 Test Coverage</h3>

<p><a name="index-coverage-testing-1082"></a>
<a name="index-testcover_002dstart-1083"></a><a name="index-testcover_002dmark_002dall-1084"></a><a name="index-testcover_002dnext_002dmark-1085"></a>  You can do coverage testing for a file of Lisp code by loading the
<code>testcover</code> library and using the command <kbd>M-x
testcover-start &lt;RET&gt; </kbd><var>file</var><kbd> &lt;RET&gt;</kbd> to instrument the
code.  Then test your code by calling it one or more times.  Then use
the command <kbd>M-x testcover-mark-all</kbd> to display colored highlights
on the code to show where coverage is insufficient.  The command
<kbd>M-x testcover-next-mark</kbd> will move point forward to the next
highlighted spot.

   <p>Normally, a red highlight indicates the form was never completely
evaluated; a brown highlight means it always evaluated to the same
value (meaning there has been little testing of what is done with the
result).  However, the red highlight is skipped for forms that can't
possibly complete their evaluation, such as <code>error</code>.  The brown
highlight is skipped for forms that are expected to always evaluate to
the same value, such as <code>(setq x 14)</code>.

   <p>For difficult cases, you can add do-nothing macros to your code to
give advice to the test coverage tool.

<div class="defun">
&mdash; Macro: <b>1value</b><var> form<a name="index-g_t1value-1086"></a></var><br>
<blockquote><p>Evaluate <var>form</var> and return its value, but inform coverage testing
that <var>form</var>'s value should always be the same. 
</p></blockquote></div>

<div class="defun">
&mdash; Macro: <b>noreturn</b><var> form<a name="index-noreturn-1087"></a></var><br>
<blockquote><p>Evaluate <var>form</var>, informing coverage testing that <var>form</var> should
never return.  If it ever does return, you get a run-time error. 
</p></blockquote></div>

   <p>Edebug also has a coverage testing feature (see <a href="Coverage-Testing.html#Coverage-Testing">Coverage Testing</a>).  These features partly duplicate each other, and it would
be cleaner to combine them.

   </body></html>

